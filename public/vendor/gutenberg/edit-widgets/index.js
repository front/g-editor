this.wp=this.wp||{},this.wp.editWidgets=function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=222)}({0:function(e,t){!function(){e.exports=this.wp.element}()},1:function(e,t){!function(){e.exports=this.wp.i18n}()},10:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},11:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return c})},12:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},13:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(30),c=n(5);function o(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!=typeof t?Object(c.a)(e):t}},14:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return c})},15:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},2:function(e,t){!function(){e.exports=this.lodash}()},20:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}n.d(t,"a",function(){return r})},222:function(e,t,n){"use strict";n.r(t);var r=n(0),c=(n(84),n(66)),o=n(24),i=n(59);Object(o.addFilter)("editor.MediaUpload","core/edit-widgets/replace-media-upload",function(){return i.MediaUpload});var a=n(1),u=n(3),l=Object(u.createSlotFill)("EditWidgetsInserter"),s=l.Fill,d=l.Slot,b=s;b.Slot=function(){return Object(r.createElement)(d,{bubblesVirtually:!0})};var f=b,p=n(2),O=n(4);var m=function(){var e=Object(O.useSelect)(function(e){var t=e("core"),n=t.hasEditsForEntityRecord,r=t.isSavingEntityRecord,c=(0,t.getEntityRecords)("root","widgetArea"),o=Object(p.map)(c,function(e){return e.id});return{editedWidgetAreaIds:Object(p.filter)(o,function(e){return n("root","widgetArea",e)}),isSaving:Object(p.some)(o,function(e){return r("root","widgetArea",e)})}},[]),t=e.editedWidgetAreaIds,n=e.isSaving,c=Object(O.useDispatch)("core").saveEditedEntityRecord,o=Object(r.useCallback)(function(){Object(p.forEach)(t,function(e){c("root","widgetArea",e)})},[t]);return Object(r.createElement)(u.Button,{isPrimary:!0,isLarge:!0,isBusy:n,"aria-disabled":n,onClick:n?void 0:o,disabled:0===t.length},Object(a.__)("Update"))};var j=function(){return Object(r.createElement)("div",{className:"edit-widgets-header",role:"region","aria-label":Object(a.__)("Widgets screen top bar"),tabIndex:"-1"},Object(r.createElement)(u.NavigableMenu,null,Object(r.createElement)(f.Slot,null)),Object(r.createElement)("h1",{className:"edit-widgets-header__title"},Object(a.__)("Block Areas")," ",Object(a.__)("(experimental)")),Object(r.createElement)("div",{className:"edit-widgets-header__actions"},Object(r.createElement)(m,null)))},w=Object(u.createSlotFill)("EditWidgetsBlockSidebar"),g=w.Fill,y=w.Slot;function v(){return Object(r.createElement)("div",{className:"edit-widgets-sidebar",role:"region","aria-label":Object(a.__)("Widgets advanced settings"),tabIndex:"-1"},Object(r.createElement)(u.Panel,{header:Object(a.__)("Block Areas")},Object(r.createElement)(y,{bubblesVirtually:!0})))}v.Inspector=g;var E=v,h=n(23),S=n(7),k=n(8),_=n(20),x=n(6),B=n(9),A=n(12),P=n(11),I=n(13),R=n(15),N=n(14),z=function(e){function t(){return Object(A.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(P.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.hasSelectedBlock,r=t.onBlockSelected,c=t.isSelectedArea,o=t.clearSelectedBlock;n&&!e.hasSelectedBlock&&r(),!c&&e.isSelectedArea&&o()}},{key:"render",value:function(){return null}}]),t}(r.Component),M=Object(S.compose)([Object(O.withSelect)(function(e){return{hasSelectedBlock:(0,e("core/block-editor").hasSelectedBlock)()}}),Object(O.withDispatch)(function(e){return{clearSelectedBlock:e("core/block-editor").clearSelectedBlock}})])(z);var C=function(e){var t=e.id,n=e.blockEditorSettings,c=e.initialOpen,o=e.isSelectedArea,a=e.onBlockSelected,l=Object(O.useSelect)(function(e){var n=e("core"),r=n.canUser,c=(0,n.getEditedEntityRecord)("root","widgetArea",t),o=Object(p.get)(c,["content"],"");return{blocks:c&&c.blocks,rawContent:o.raw?o.raw:o,widgetAreaName:c&&c.name,hasUploadPermissions:Object(p.defaultTo)(r("create","media"),!0)}},[t]),s=l.blocks,d=l.widgetAreaName,b=l.hasUploadPermissions,m=l.rawContent,j=Object(O.useDispatch)("core").editEntityRecord,w=Object(r.useCallback)(function(e){j("root","widgetArea",t,{blocks:e})},[j,t]),g=Object(r.useCallback)(function(e){j("root","widgetArea",t,{blocks:e,content:Object(B.serialize)(e)})},[j,t]),y=Object(r.useMemo)(function(){return function(e,t){return t?Object(k.a)({},e,{__experimentalMediaUpload:function(t){var n=t.onError,r=Object(_.a)(t,["onError"]);Object(i.uploadMedia)(Object(k.a)({wpAllowedMimeTypes:e.allowedMimeTypes,onError:function(e){var t=e.message;return n(t)}},r))}}):e}(n,b)},[n,b]);return Object(r.useEffect)(function(){s||w(Object(B.parse)(m))},[s,w,m]),Object(r.createElement)(u.Panel,{className:"edit-widgets-widget-area"},Object(r.createElement)(u.PanelBody,{title:d,initialOpen:c},Object(r.createElement)(x.BlockEditorProvider,{value:s,onInput:g,onChange:w,settings:y},o&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(f,null,Object(r.createElement)(x.Inserter,null)),Object(r.createElement)(x.BlockEditorKeyboardShortcuts,null)),Object(r.createElement)(M,{isSelectedArea:o,onBlockSelected:a}),Object(r.createElement)(E.Inspector,null,Object(r.createElement)(x.BlockInspector,{showNoBlockSelectedMessage:!1})),Object(r.createElement)("div",{className:"editor-styles-wrapper"},Object(r.createElement)(x.WritingFlow,null,Object(r.createElement)(x.ObserveTyping,null,Object(r.createElement)(x.BlockList,{className:"edit-widgets-main-block-list",renderAppender:x.ButtonBlockerAppender})))))))},F=[];var T=Object(S.compose)([Object(O.withSelect)(function(e){return{areas:(0,e("core").getEntityRecords)("root","widgetArea")||F}})])(function(e){var t=e.areas,n=e.blockEditorSettings,c=Object(r.useState)(0),o=Object(h.a)(c,2),i=o[0],a=o[1],u=Object(r.useMemo)(function(){return t.map(function(e,t){return function(){a(t)}})},[t,a]);return t.map(function(e,t){var c=e.id;return Object(r.createElement)(C,{isSelectedArea:t===i,onBlockSelected:u[t],blockEditorSettings:n,key:c,id:c,initialOpen:0===t})})});var W=function(){var e=Object(O.useSelect)(function(e){return{notices:e("core/notices").getNotices()}}).notices,t=Object(p.filter)(e,{type:"snackbar"}),n=Object(O.useDispatch)("core/notices").removeNotice;return Object(r.createElement)(u.SnackbarList,{notices:t,className:"edit-widgets-notices__snackbar",onRemove:n})};var U=Object(u.navigateRegions)(function(e){var t=e.blockEditorSettings;return Object(r.createElement)(u.SlotFillProvider,null,Object(r.createElement)(j,null),Object(r.createElement)(E,null),Object(r.createElement)(W,null),Object(r.createElement)("div",{className:"edit-widgets-layout__content",role:"region","aria-label":Object(a.__)("Widgets screen content"),tabIndex:"-1"},Object(r.createElement)(T,{blockEditorSettings:t})),Object(r.createElement)(u.Popover.Slot,null))});var D=function(e){var t=e.settings;return Object(r.createElement)(U,{blockEditorSettings:t})},L=function(){var e=window.wp.data.select("core"),t=e.getEntityRecords,n=e.getEditedEntityRecord;return t("root","widgetArea").reduce(function(e,t){var r=t.id;return e[r]=n("root","widgetArea",r).blocks,e},{})},H=Object(p.throttle)(function(e,t){var n=document.querySelector("#customize-preview > iframe");if(n&&n.contentDocument){var r=n.contentDocument.querySelector('[data-customize-partial-placement-context*=\'"sidebar_id":"'.concat(e,"\"']"));r&&(r.innerHTML=Object(B.serialize)(t),r.parentElement.innerHTML=r.outerHTML)}},1e3),q=Object(p.throttle)(function(e){var t=document.getElementById("_customize-input-gutenberg_widget_blocks");t&&(t.value=JSON.stringify(Object.keys(e).reduce(function(t,n){return t[n]=Object(B.serialize)(e[n]),t},{})),t.dispatchEvent(new window.Event("change")))},1e3);if(window.wp&&window.wp.customize&&window.wp.data){var J=!1;window.wp.customize.bind("ready",function(){return window.wp.customize.previewer.bind("ready",function(){if(!J){var e;J=!0;try{e=JSON.parse(document.getElementById("_customize-input-gutenberg_widget_blocks").value),e=Object.keys(e).reduce(function(t,n){return t[n]=Object(B.parse)(e[n]),t},{})}catch(t){e={}}(function(e,t,n){return new Promise(function(r){if(n(),e()!==t)var c=window.wp.data.subscribe(function(){e()===t&&(c(),r())});else r()})})(function(){return window.wp.data.select("core").hasFinishedResolution("getEntityRecords",["root","widgetArea"])},!0,function(){return window.wp.data.select("core").getEntityRecords("root","widgetArea")}).then(function(){Object.keys(e).forEach(function(t){window.wp.data.dispatch("core").editEntityRecord("root","widgetArea",t,{content:Object(B.serialize)(e[t]),blocks:e[t]})}),e=L(),window.wp.data.subscribe(function(){for(var t=L(),n=!1,r=0,c=Object.keys(t);r<c.length;r++){var o=c[r];e[o]!==t[o]&&(H(o,t[o]),n=!0)}n&&q(t),e=t})})}})})}var V=Object(u.navigateRegions)(function(e){var t=e.settings;return Object(r.createElement)(u.SlotFillProvider,null,Object(r.createElement)("div",{className:"edit-widgets-customizer-edit-widgets-initializer__content",role:"region","aria-label":Object(a.__)("Widgets screen content"),tabIndex:"-1"},Object(r.createElement)(T,{blockEditorSettings:t})),Object(r.createElement)(u.Popover.Slot,null))});function K(e,t){Object(c.registerCoreBlocks)(),Object(c.__experimentalRegisterExperimentalCoreBlocks)(t),Object(r.render)(Object(r.createElement)(D,{settings:t}),document.getElementById(e))}function G(e,t){Object(c.registerCoreBlocks)(),Object(c.__experimentalRegisterExperimentalCoreBlocks)(t),Object(r.render)(Object(r.createElement)(V,{settings:t}),document.getElementById(e))}n.d(t,"initialize",function(){return K}),n.d(t,"customizerInitialize",function(){return G})},23:function(e,t,n){"use strict";var r=n(38);var c=n(37);function o(e,t){return Object(r.a)(e)||function(e,t){var n=[],r=!0,c=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(c)throw o}}return n}(e,t)||Object(c.a)()}n.d(t,"a",function(){return o})},24:function(e,t){!function(){e.exports=this.wp.hooks}()},3:function(e,t){!function(){e.exports=this.wp.components}()},30:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return(c="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}n.d(t,"a",function(){return c})},37:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",function(){return r})},38:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return r})},4:function(e,t){!function(){e.exports=this.wp.data}()},5:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},59:function(e,t){!function(){e.exports=this.wp.mediaUtils}()},6:function(e,t){!function(){e.exports=this.wp.blockEditor}()},66:function(e,t){!function(){e.exports=this.wp.blockLibrary}()},7:function(e,t){!function(){e.exports=this.wp.compose}()},8:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(10);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},c=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(c=c.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),c.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},84:function(e,t){!function(){e.exports=this.wp.notices}()},9:function(e,t){!function(){e.exports=this.wp.blocks}()}});